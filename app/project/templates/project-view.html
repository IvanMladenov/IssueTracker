<div class="jumbotron container">
    <div class="col-md-5">
        <h2>{{project.ProjectKey}}</h2>
        <a ng-if="isAdmin()||isProjectLeader" class="btn btn-info" href="#projects/edit/{{project.Id}}">Edit</a>
        <a ng-if="isAdmin()||isProjectLeader" class="btn btn-info" href="#projects/add-issue/{{project.Id}}">Add Issue</a>
        <p>Project key: {{project.ProjectKey}}</p>
        <p><strong>Name:</strong> {{project.Name}}</p>
        <p><strong>Description:</strong> {{project.Description}}</p>
        <p><strong>LeadId:</strong> ({{project.Lead.Id}}) {{project.Lead.Username}}</p>
        <p>Labels: <span ng-repeat="label in project.Labels">{{label.Name}}{{$last ? '' : ', '}}</span></p>
        <p>Priorities: <span ng-repeat="priority in project.Priorities">{{priority.Name}}{{$last ? '' : ', '}}</span></p>
        <div class="form-group">
            <label for="selectStatus">Filter by status</label>
            <select class="form-control" id="selectStatus" ng-model="statusFilter">
                <option value="" selected>Select status</option>
                <option value="1">Closed</option>
                <option value="2">Stopped</option>
                <option value="3">In progress</option>
                <option value="4">Stoped progress</option>
            </select>
        </div>
        <div class="form-group">
            <label for="authorSelect">Filter by author</label>
            <select class="form-control" id="authorSelect" ng-model="authorFilter">
                <option value="" selected>Select author</option>
                <option ng-repeat="author in authors" value="{{author[1]}}">{{author[0]}}</option>
            </select>
        </div>
        <div class="form-group">
            <label for="assigneeSelect">Filter by assignee</label>
            <select class="form-control" id="assigneeSelect" ng-model="assigneeFilter">
                <option value="" selected>Select assignee</option>
                <option ng-repeat="assignee in assignees" value="{{assignee[1]}}">{{assignee[0]}}</option>
            </select>
        </div>
    </div>
    <div class="col-md-7">
        <table class="table table-hover">
            <thead>
            <tr>
                <th>Title</th>
                <th>Description</th>
                <th>Due Date</th>
                <th>Assignee</th>
            </tr>
            </thead>
            <tbody>

            <tr ng-repeat="issue in projectIssues
            |filter:{Status: {Id:statusFilter||'!!'}}
            |filter: {Assignee: {Id: assigneeFilter||'!!'}}
            |filter: {Author: {Id: authorFilter||'!!'}}">
                <td><a href="#issues/{{issue.Id}}">{{issue.Title}}</a></td>
                <td>{{issue.Description}}</td>
                <td>{{issue.DueDate}}</td>
                <td>{{issue.Assignee.Username}}</td>
            </tr>
            </tbody>
        </table>
    </div>
</div>